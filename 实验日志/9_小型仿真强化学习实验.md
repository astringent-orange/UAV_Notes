---
date: 2026-01-28
---

尝试完成一个微型实验，在Ubuntu 20.04 + ROS noetic的环境中，使用PX4 firmware + mavros + gazebo，GPU nvidia rtx 2060 6G + CPU intel i7-10875H实现一个RL的过程。输入为64×64深度图像，输出为水平速度（高度固定）+ 旋转速度。模型选择基本的CNN处理图像后获得特征向量，与无人机状态向量进行拼接，经过MLP后输出。

# 环境搭建
构建工作空间，并安装PX4、配置gazebo模型、运行mavros通信。

**问题1**
以前下载过PX4 firmware且配置过bashrc文件，这次尝试运行时发现，如果`source ./devel/setup.bash`之后则会找不到px4，再去`source ~/.bashrc`则会找不到功能包。
原因是两次source的内容互相覆盖了。解决方法一是修改`./devel/setup.bash`的内容，在其中加入px4的路径（不推荐修改bashrc文件）；解决方法二，单独为该项目安装一个px4固件。


image_transport
cv_bridge